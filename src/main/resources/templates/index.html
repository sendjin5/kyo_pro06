<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인데스</title>
</head>
<body>
    <h2>인덱스 페이지입니다.</h2>

    <a th:href="@{/login}">로그인</a>
    <a th:href="@{/join1}">회원가입11</a>
    <a th:href="@{/join2}">회원가입22</a>
    <a th:href="@{/logout}">로그아웃</a>

    <br><br><br><br><br><br>

    <th:block sec:authorize="isAuthenticated()">
        <h2>로그인 성공</h2>

    </th:block>

    <th:block sec:authorize="isAnonymous()">
        <h2> 로그아웃 상태</h2>
    </th:block>

    <!--인증시 사용된 객체에 대한 정보-->
    <b>Authenticated DTO:</b>
    <div sec:authentication="principal"></div>

    <!--인증시 사용된 객체의 Username (ID)-->
    <b>Authenticated username:</b>
    <div sec:authentication="name"></div>

    <!--객체의 권한-->
<!--    <b>Authenticated user role:</b>-->
<!--    <div sec:authentication="principal.getAuthorities()">-->
<!--    </div>-->


    <th:block sec:authorize="hasAuthority('ADMIN')">
        <h2> 권한이 관리자입니다.</h2>
    </th:block>
    <th:block sec:authorize="hasAuthority('ROLE_USER')">
        <h2> 권한이 유저입니다.</h2>
    </th:block>
    <th:block sec:authorize="hasAuthority('USER')">
        <h2> 권한이 유저저저입니다.</h2>
    </th:block>

</body>
</html>